 // synth.js
        let context=new(window.AudioContext||window.webkitAudioContext),currentOscillator=null;function playMS10TriangleBass(e=null){currentOscillator&&(currentOscillator.stop(),currentOscillator=null);let t=context.createOscillator(),n=context.createGain(),l=context.createBiquadFilter(),c=document.getElementById("waveform").value;if(t.type=c,null===e&&(e=parseFloat(document.getElementById("note").value),!isFinite(e)))return void console.error("Invalid frequency value:",e);t.frequency.setValueAtTime(e,context.currentTime);let o=document.getElementById("attack").value/1e3,r=document.getElementById("release").value/1e3,a=document.getElementById("cutoff").value,u=document.getElementById("resonance").value;l.type="lowpass",l.frequency.value=a,l.Q.value=u,n.gain.setValueAtTime(0,context.currentTime);const i=getVolume();n.gain.linearRampToValueAtTime(2*i,context.currentTime+o),n.gain.linearRampToValueAtTime(0,context.currentTime+o+r),t.connect(l),l.connect(n),n.connect(context.destination),t.start(),t.stop(context.currentTime+o+r),currentOscillator=t}
        let nextNoteTime = context.currentTime;